/* --- Round Themes --- */

/* Round 1: Shake */
@keyframes shake-anim {
    0% {
        transform: translate(1px, 1px) rotate(0deg);
    }

    10% {
        transform: translate(-1px, -2px) rotate(-1deg);
    }

    20% {
        transform: translate(-3px, 0px) rotate(1deg);
    }

    30% {
        transform: translate(3px, 2px) rotate(0deg);
    }

    40% {
        transform: translate(1px, -1px) rotate(1deg);
    }

    50% {
        transform: translate(-1px, 2px) rotate(-1deg);
    }

    60% {
        transform: translate(-3px, 1px) rotate(0deg);
    }

    70% {
        transform: translate(3px, 1px) rotate(-1deg);
    }

    80% {
        transform: translate(-1px, -1px) rotate(1deg);
    }

    90% {
        transform: translate(1px, 2px) rotate(0deg);
    }

    100% {
        transform: translate(1px, -2px) rotate(-1deg);
    }
}

.theme-shake .phase-title {
    animation: shake-anim 0.8s cubic-bezier(.36, .07, .19, .97) both;
}

/* Round 2: Deep Blue */
:root {
    --color-blue-deep: #0D1B2A;
    --color-blue-light: #1B263B;
}

.theme-blue .col-center {
    /* background-color: var(--color-blue-deep); */
    /* color: white; */
    transition: background-color 1s ease;
}

.theme-blue .animated-title {
    animation: fade-in-up 1s ease-out;
}

@keyframes fade-in-up {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Round 3: Intense */
@keyframes subtle-flicker {
    0% {
        opacity: 1;
    }

    50% {
        opacity: 0.95;
    }

    52% {
        opacity: 1;
    }

    70% {
        opacity: 0.98;
    }

    100% {
        opacity: 1;
    }
}

.theme-intense .col-center {
    /* background-color: #220000; */
    /* color: white; */
    animation: subtle-flicker 3s infinite;
}

.theme-intense .phase-title {
    color: #FF4444 !important;
    text-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
    /* Softer shadow for white bg */
}

/* Round 4: Gold / Grand Finale */
/* Round 4: Gold / Grand Finale */
.theme-gold .col-center {
    /* background: radial-gradient(circle, #FFD700 0%, #B8860B 100%); */
    /* color: #333; */
}

.theme-gold .phase-title {
    color: #DAA520 !important;
    /* Goldenrod */
    text-shadow: 2px 2px 0px #FFD700;
    animation: neon-pulse 1.5s infinite alternate;
}

@keyframes neon-pulse {
    from {
        text-shadow: 2px 2px 0px #FFD700;
        transform: scale(1);
    }

    to {
        text-shadow: 4px 4px 0px #FFD700;
        transform: scale(1.02);
    }
}

.double-points-badge {
    font-size: 5rem;
    color: #fff;
    background: #ff0000;
    padding: 20px 40px;
    border-radius: 20px;
    transform: rotate(-10deg);
    position: absolute;
    top: 50%;
    right: 10%;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
    animation: badge-pop-in 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes badge-pop-in {
    from {
        transform: scale(0) rotate(-180deg);
    }

    to {
        transform: scale(1) rotate(-10deg);
    }
}


/* --- Winner Scene & Podium --- */
.winner-scene {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    /* background: linear-gradient(135deg, #1a1a2e, #16213e); */
    background: white;
    /* Force white */
    color: black;
    overflow: hidden;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1000;
    /* Full screen overlay inside col-center */
}

/* Confetti Canvas */
#confetti-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 5;
}

.winner-title {
    font-size: 5rem;
    font-weight: 900;
    margin-bottom: 50px;
    background: none;
    color: black;
    /* Or Keep Gold? User said "Remove gradient", usually implies clean text. let's try Black or Dark Blue to contrast with White BG. Or Gold text? Original was Gold. User didn't say change color, just remove gradient. I'll stick to Gold text but simple. */
    color: #FFD700;
    text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.2);
    /* animation: rainbow-wave ... REMOVED */
}

/* @keyframes rainbow-wave REMOVED/UNUSED */

.podium-container {
    display: flex;
    align-items: flex-end;
    gap: 20px;
    margin-bottom: 50px;
    z-index: 10;
}

.podium-pillar {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 150px;
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transform: translateY(100vh);
    /* Start hidden */
    animation: podium-rise 1s forwards;
}

.pillar-1 {
    width: 180px;
    animation-delay: 2s;
    /* Last */
    order: 2;
    /* Center visually in flex? No, flex order: 2nd, 1st, 3rd? */
    /* Let's reorder HTML or use order property. HTML was 2, 1, 3. */
}

.pillar-2 {
    animation-delay: 1s;
    order: 1;
}

.pillar-3 {
    animation-delay: 0.5s;
    order: 3;
}

@keyframes podium-rise {
    to {
        transform: translateY(0);
    }
}

.podium-rank {
    width: 100%;
    /* Default fallback */
    background: #ccc;
    color: white;
    font-size: 4rem;
    font-weight: bold;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding-top: 10px;
    border-radius: 10px 10px 0 0;
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.1);
}

/* 1st Place: Yellow/Gold */
.pillar-1 .podium-rank {
    height: 250px;
    background: #FFEB3B;
    /* Yellow */
    color: #333;
    /* Dark text for contrast on yellow */
}

/* 2nd Place: Green */
.pillar-2 .podium-rank {
    height: 180px;
    background: #4CAF50;
    /* Green */
}

/* 3rd Place: Red */
.pillar-3 .podium-rank {
    height: 120px;
    background: #F44336;
    /* Red */
}

.podium-avatar {
    width: 100px;
    height: 100px;
    margin-bottom: 20px;
    position: relative;
}

.pillar-1 .podium-avatar {
    width: 140px;
    height: 140px;
    animation: pulse-winner 2s infinite;
}

@keyframes pulse-winner {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.05);
    }

    100% {
        transform: scale(1);
    }
}

.crown-icon {
    font-size: 4rem;
    position: absolute;
    top: -60px;
    left: 50%;
    transform: translateX(-50%) rotate(-10deg);
    animation: float-crown 1s infinite alternate ease-in-out;
}

@keyframes float-crown {
    from {
        transform: translateX(-50%) translateY(0) rotate(-10deg);
    }

    to {
        transform: translateX(-50%) translateY(-10px) rotate(-10deg);
    }
}

.podium-name {
    font-size: 1.5rem;
    font-weight: bold;
    margin-top: 10px;
    text-shadow: none;
    color: black;
}

.podium-score {
    font-size: 1.2rem;
    color: #666;
}